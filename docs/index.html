<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Panels and Interactive Versions of Diagnostic Plots using 'ggplot2' • ggResidpanel</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Panels and Interactive Versions of Diagnostic Plots using 'ggplot2'">
<meta property="og:description" content="An R package for creating panels of diagnostic plots for residuals from a model 
    using ggplot2 and plotly to analyze residuals and model assumptions from a variety of 
    viewpoints. It also allows for the creation of interactive diagnostic plots.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ggResidpanel</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/introduction.html">An Introduction to ggResidpanel</a>
    </li>
    <li>
      <a href="articles/residuals.html">Overview of Residuals</a>
    </li>
    <li>
      <a href="articles/tutorial.html">ggResidpanel Tutorial and User Manual</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<div id="ggresidpanel" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#ggresidpanel" class="anchor"></a>ggResidpanel <img align="right" width="120" height="135" src="./images/gg_resid_sticker4.png">
</h1></div>
<p>ggResidpanel is an R package for creating panels of diagnostic plots for a model using ggplot2 and interactive versions of the plots using plotly.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Follow these instructions to install ggResidpanel from the GitHub repository. (ggResidpanel is not currently available on CRAN.)</p>
<p>Install ggResidpanel from the GitHub repository using the devtools package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"goodekat/ggResidpanel"</span>)</code></pre></div>
<p>Load the ggResidpanel library.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load the library</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(ggResidpanel)</code></pre></div>
</div>
<div id="overview-and-examples" class="section level2">
<h2 class="hasAnchor">
<a href="#overview-and-examples" class="anchor"></a>Overview and Examples</h2>
<p>The package provides five functions that allow the user to assess diagnostic plots from a model. Each of these functions is described below with examples to show the type of image that is output from the function. The functions have multiple input options such as the formatting options of <code>scale</code>, <code>theme</code>, <code>axis.text.size</code>, <code>title.text.size</code>, and <code>title.opt</code>. See the documentation or vignettes for more details about how to use the functions.</p>
<p><strong><code>resid_panel</code></strong>: This function creates a panel of residual diagnostic plots given a model of type “lm”, “glm”, “lmerMod”, “lmerModLmerTest”, and “glmerMod”. It allows the user to select a panel of plots from the options in the package or create their own panel by selecting from the plots available for this function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Fit a linear model</span>
lm_model &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/lm">lm</a></span>(Volume <span class="op">~</span><span class="st"> </span>Girth <span class="op">+</span><span class="st"> </span>Height, <span class="dt">data =</span> trees)

<span class="co"># Create the default panel of plots</span>
<span class="kw"><a href="reference/resid_panel.html">resid_panel</a></span>(lm_model, <span class="dt">bins =</span> <span class="dv">20</span>)</code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create the R panel of plots and change the theme to classic</span>
<span class="kw"><a href="reference/resid_panel.html">resid_panel</a></span>(lm_model, <span class="dt">bins =</span> <span class="dv">20</span>, <span class="dt">plots =</span> <span class="st">"R"</span>, <span class="dt">theme =</span> <span class="st">"classic"</span>)</code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-3-2.png" width="700"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create a panel with all plots available</span>
<span class="kw"><a href="reference/resid_panel.html">resid_panel</a></span>(lm_model, <span class="dt">plots =</span> <span class="st">"all"</span>, <span class="dt">bins =</span> <span class="dv">20</span>)</code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-3-3.png" width="700"></p>
<p><strong><code>resid_interact</code></strong>: This function creates interactive versions of residual diagnostic plot panels given a model. It accepts models of type “lm”, “glm”, “lmerMod”, “lmerModLmerTest”, and “glmerMod”. Similar to <code>resid_panel</code>, it allows the user to select a panel of plots from the options in the package or to create their own panel by selecting from the plots available for this function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create an interactive panel of the default diagnostic plots</span>
<span class="kw"><a href="reference/resid_interact.html">resid_interact</a></span>(lm_model)</code></pre></div>
<div class="figure">
<img src="images/interact.gif">
</div>
<p><strong><code>resid_xpanel</code></strong>: This function creates a panel of plots of the residuals or response variable versus the predictor (x) variables in the model. It accepts models of type “lm”, “glm”, “lmerMod”, “lmerModLmerTest”, and “glmerMod”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create a panel of plots of the residuals versus the predictor variables</span>
<span class="kw"><a href="reference/resid_xpanel.html">resid_xpanel</a></span>(lm_model)</code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create a panel of plots of the response variable versus the predictor variables</span>
<span class="kw"><a href="reference/resid_xpanel.html">resid_xpanel</a></span>(lm_model, <span class="dt">yvar =</span> <span class="st">"response"</span>)</code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-5-2.png" width="700"></p>
<p><strong><code>resid_compare</code></strong>: This function creates a panel of residual diagnostic plots given a list of models. This allows the user to compare the diagnostic plots from multiple models. It currently accepts models of type “lm”, “glm”, “lmerMod”, “lmerModLmerTest”, and “glmerMod”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Fit the model with a log transformation on the response variable</span>
lm_model_log &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/lm">lm</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Log">log</a></span>(Volume) <span class="op">~</span><span class="st"> </span>Girth <span class="op">+</span><span class="st"> </span>Height, <span class="dt">data =</span> trees)

<span class="co"># Plot the residual and normal quantile plots for the two models</span>
<span class="kw"><a href="reference/resid_compare.html">resid_compare</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(lm_model, lm_model_log), <span class="dt">plots =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"resid"</span>, <span class="st">"qq"</span>))</code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<p><strong><code>resid_auxpanel</code></strong>: This function creates a panel of residual diagnostic plots given inputs of residuals and fitted values to use for models not accepted by <code>resid_panel</code>. Users can select from panel options in the package or create their own panel from the plots available for this function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Fit a random forest model to the mtcars data to predict the mpg</span>
rf_model &lt;-<span class="st"> </span>randomForest<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/randomForest/topics/randomForest">randomForest</a></span>(<span class="dt">x =</span> mtcars[,<span class="dv">2</span><span class="op">:</span><span class="dv">11</span>], <span class="dt">y =</span> mtcars[,<span class="dv">1</span>])

<span class="co"># Obtain the predictions from the model on the observed data</span>
rf_pred &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(rf_model, mtcars[,<span class="dv">2</span><span class="op">:</span><span class="dv">11</span>])

<span class="co"># Obtain the residuals from the model</span>
rf_resid &lt;-<span class="st"> </span>mtcars[,<span class="dv">1</span>] <span class="op">-</span><span class="st"> </span>rf_pred

<span class="co"># Create a panel with the residual and index plot</span>
<span class="kw"><a href="reference/resid_auxpanel.html">resid_auxpanel</a></span>(rf_resid, rf_pred, <span class="dt">plots =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"resid"</span>, <span class="st">"index"</span>))</code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Katherine Goode <br><small class="roles"> Author, maintainer </small>  </li>
<li>Kathleen Rey <br><small class="roles"> Author </small>  </li>
</ul>
</div>

      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Katherine Goode, Kathleen Rey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
