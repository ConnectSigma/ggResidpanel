<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Panels and Interactive Versions of Diagnostic Plots using ggplot2 â€¢ ggResidpanel</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Panels and Interactive Versions of Diagnostic Plots using ggplot2">
<meta property="og:description" content="An R package for creating diagnostic plots for models. The package allows for the 
    creation of panels of plots and interactive plots.">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ggResidpanel</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/introduction.html">An Introduction to ggResidpanel</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="ggresidpanel-">ggResidpanel <img align="right" width="120" height="135" src="reference/figures/logo.png"><a class="anchor" aria-label="anchor" href="#ggresidpanel-"></a>
</h1></div>
<p>ggResidpanel is an R package for creating panels of diagnostic plots for a model using ggplot2 and interactive versions of the plots using plotly.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The code below shows how ggResidpanel can be installed from CRAN. If desired, the development version of ggResidpanel can be installed from GitHub.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Installs ggResidpanel from CRAN</span>
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"ggResidpanel"</span><span class="op">)</span>

<span class="co"># Installs the development version of ggResidpanel from GitHub</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"goodekat/ggResidpanel"</span><span class="op">)</span></code></pre></div>
<p>Load the ggResidpanel package.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load the library</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://goodekat.github.io/ggResidpanel/" class="external-link">ggResidpanel</a></span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="learn-more">Learn More<a class="anchor" aria-label="anchor" href="#learn-more"></a>
</h2>
<p>Here are some resources for learning how to use ggResidpanel:</p>
<ul>
<li><a href="https://goodekat.github.io/ggResidpanel/articles/introduction.html" class="external-link">Introduction Vignette</a></li>
<li><a href="https://goodekat.github.io/ggResidpanel-tutorial/tutorial.html" class="external-link">Tutorial and User Manual</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="overview-and-examples">Overview and Examples<a class="anchor" aria-label="anchor" href="#overview-and-examples"></a>
</h2>
<p>The package provides five functions that allow the user to assess diagnostic plots from a model. These functions are:</p>
<ul>
<li>
<code>resid_panel</code>: Creates a panel of diagnostic plots of the residuals from a model</li>
<li>
<code>resid_interact</code>: Creates an interactive panel of diagnostic plots of the residuals form a model</li>
<li>
<code>resid_xpanel</code>: Creates a panel of diagnostic plots of the predictor variables</li>
<li>
<code>resid_compare</code>: Creates a panel of diagnostic plots from multiple models</li>
<li>
<code>resid_auxpanel</code>: Creates a panel of diagnostic plots for model types not included in the package</li>
</ul>
<p>Currently, ggResidpanel allows the first four functions listed above to work with models fit using the functions of <code>lm</code>, <code>glm</code>, <code>lme</code> (from nlme), and <code>lmer</code> or <code>glmer</code> (from lme4 or fit using lmerTest). Each of these functions is applied below to show the panel that is output from the function. The functions have multiple input options such as the formatting options of <code>scale</code>, <code>theme</code>, <code>axis.text.size</code>, <code>title.text.size</code>, and <code>title.opt</code>.</p>
<p>The <code>penguins</code> data used in the examples below is included in ggResidpanel.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">penguins</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="do">## 'data.frame':    125 obs. of  4 variables:</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ heartrate: num  88.8 103.4 97.4 85.3 60.6 ...</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ depth    : num  5 9 22 25.5 30.5 32.5 38 32 6 10.5 ...</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ duration : num  1.05 1.18 1.92 3.47 7.08 ...</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ bird     : Factor w/ 9 levels "1","2","3","4",..: 1 1 1 1 1 1 1 1 1 1 ...</span></span></code></pre></div>
<div class="section level4">
<h4 id="resid_panel">
<code>resid_panel</code><a class="anchor" aria-label="anchor" href="#resid_panel"></a>
</h4>
<p>This function creates a panel of residual diagnostic plots given a model. It allows the user to select a panel of plots from the options in the package or create their own panel by selecting from the plots available for this function.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Fit a model</span>
<span class="va">penguin_model</span> <span class="op">&lt;-</span> <span class="fu">lme4</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lme4/man/lmer.html" class="external-link">lmer</a></span><span class="op">(</span><span class="va">heartrate</span> <span class="op">~</span> <span class="va">depth</span> <span class="op">+</span> <span class="va">duration</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">|</span><span class="va">bird</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">penguins</span><span class="op">)</span>

<span class="co"># Create the default panel of plots</span>
<span class="fu"><a href="reference/resid_panel.html">resid_panel</a></span><span class="op">(</span><span class="va">penguin_model</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/readme-unnamed-chunk-4-1.png"><!-- --></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a pancel with residual, qq, and yvp plots, add 95% confidence interval </span>
<span class="co"># bands to the qq-plot, and change the theme to classic</span>
<span class="fu"><a href="reference/resid_panel.html">resid_panel</a></span><span class="op">(</span><span class="va">penguin_model</span>, plots <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"resid"</span>, <span class="st">"qq"</span>, <span class="st">"yvp"</span><span class="op">)</span>, 
            qqbands <span class="op">=</span> <span class="cn">TRUE</span>, theme <span class="op">=</span> <span class="st">"classic"</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/readme-unnamed-chunk-4-2.png"><!-- --></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a panel with all plots available for a model fit using lmer</span>
<span class="fu"><a href="reference/resid_panel.html">resid_panel</a></span><span class="op">(</span><span class="va">penguin_model</span>, plots <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/readme-unnamed-chunk-4-3.png"><!-- --></p>
</div>
<div class="section level4">
<h4 id="resid_interact">
<code>resid_interact</code><a class="anchor" aria-label="anchor" href="#resid_interact"></a>
</h4>
<p>This function creates interactive versions of residual diagnostic plot panels given a model. Similar to <code>resid_panel</code>, it allows the user to select a panel of plots from the options in the package or to create their own panel by selecting from the plots available for this function.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create an interactive panel of the default diagnostic plots</span>
<span class="fu"><a href="reference/resid_interact.html">resid_interact</a></span><span class="op">(</span><span class="va">penguin_model</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/interact.gif"></p>
</div>
<div class="section level4">
<h4 id="resid_xpanel">
<code>resid_xpanel</code><a class="anchor" aria-label="anchor" href="#resid_xpanel"></a>
</h4>
<p>This function creates a panel of plots of the residuals or response variable versus the predictor (x) variables in the model.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a panel of plots of the residuals versus the predictor variables</span>
<span class="fu"><a href="reference/resid_xpanel.html">resid_xpanel</a></span><span class="op">(</span><span class="va">penguin_model</span>, jitter.width <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/readme-unnamed-chunk-6-1.png"><!-- --></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a panel of plots of the response variable versus the predictor variables</span>
<span class="fu"><a href="reference/resid_xpanel.html">resid_xpanel</a></span><span class="op">(</span><span class="va">penguin_model</span>, yvar <span class="op">=</span> <span class="st">"response"</span>, jitter.width <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/readme-unnamed-chunk-6-2.png"><!-- --></p>
</div>
<div class="section level4">
<h4 id="resid_compare">
<code>resid_compare</code><a class="anchor" aria-label="anchor" href="#resid_compare"></a>
</h4>
<p>This function creates a panel of residual diagnostic plots given a list of models. This allows the user to compare the diagnostic plots from multiple models.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Fit the model with a log transformation of the response variable and a </span>
<span class="co"># quadratic term for duration</span>
<span class="va">penguin_model_log2</span> <span class="op">&lt;-</span> <span class="fu">lme4</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lme4/man/lmer.html" class="external-link">lmer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">heartrate</span><span class="op">)</span> <span class="op">~</span> <span class="va">depth</span> <span class="op">+</span> <span class="va">duration</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="va">duration</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">|</span><span class="va">bird</span><span class="op">)</span>, 
                                 data <span class="op">=</span> <span class="va">penguins</span><span class="op">)</span>

<span class="co"># Plot the residual and normal quantile plots for the two models</span>
<span class="fu"><a href="reference/resid_compare.html">resid_compare</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">penguin_model</span>, <span class="va">penguin_model_log2</span><span class="op">)</span>, plots <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"resid"</span>, <span class="st">"qq"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/readme-unnamed-chunk-7-1.png"><!-- --></p>
</div>
<div class="section level4">
<h4 id="resid_auxpanel">
<code>resid_auxpanel</code><a class="anchor" aria-label="anchor" href="#resid_auxpanel"></a>
</h4>
<p>This function creates a panel of residual diagnostic plots given inputs of residuals and fitted values to use for models not accepted by <code>resid_panel</code>. Users can select from panel options in the package or create their own panel from the plots available for this function.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Fit a regression tree to the penguins data</span>
<span class="va">penguin_tree</span> <span class="op">&lt;-</span> <span class="fu">rpart</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rpart/man/rpart.html" class="external-link">rpart</a></span><span class="op">(</span><span class="va">heartrate</span> <span class="op">~</span> <span class="va">depth</span> <span class="op">+</span> <span class="va">duration</span>, data <span class="op">=</span> <span class="va">penguins</span><span class="op">)</span>

<span class="co"># Obtain the predictions from the model on the observed data</span>
<span class="va">penguin_tree_pred</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">penguin_tree</span><span class="op">)</span>

<span class="co"># Obtain the residuals from the model</span>
<span class="va">penguin_tree_resid</span> <span class="op">&lt;-</span> <span class="va">penguins</span><span class="op">$</span><span class="va">heartrate</span> <span class="op">-</span> <span class="va">penguin_tree_pred</span>

<span class="co"># Create a panel with the residual and index plot</span>
<span class="fu"><a href="reference/resid_auxpanel.html">resid_auxpanel</a></span><span class="op">(</span>residuals <span class="op">=</span> <span class="va">penguin_tree_resid</span>, 
               predicted <span class="op">=</span> <span class="va">penguin_tree_pred</span>, 
               plots <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"resid"</span>, <span class="st">"index"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/readme-unnamed-chunk-8-1.png"><!-- --></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=ggResidpanel" class="external-link">View on CRAN</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ggResidpanel</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Katherine Goode <br><small class="roles"> Author, maintainer </small>  </li>
<li>Kathleen Rey <br><small class="roles"> Author </small>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Katherine Goode, Kathleen Rey.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
