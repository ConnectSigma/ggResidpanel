---
title: "An Introduction to ggResidpanel"
author: "Katherine Goode and Kathleen Rey"
date: "`r format(Sys.time(), '%B %d, %Y')`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{An Introduction to ggResidpanel}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

# <img align="right" width="120" height="135" src="../images/gg_resid_sticker4.png">

ggResidpanel is an R package that was developed with the intention of providing an easier way to both create and view diagnostic plots for models. The graphics are created using ggplot2, and interactive versions of the plots are rendered using plotly. This vignette provides a brief introduction to ggResidpanel with information on how to install the package and several examples. To learn more about ggResidpanel, you can read through the ggResidpanel Tutorial and User Manual. This document contains the details for all of the functions in the package and demonstrates how to use them.

## Installation

ggResidpanel can be installed from the GitHub using the code below. (ggResidpanel is not currently available on CRAN yet.)

```{r, eval = FALSE}
devtools::install_github("goodekat/ggResidpanel")
```

Load the ggResidpanel library.

```{r}
# Load the library
library(ggResidpanel)
```

## Penguin Example

The dataset `penguins` can be found in the 


A dataset that contains information from a study done on dives of emperor penguins. The scientists were interested in understanding how the heart rate of the penguins relates to the depth and duration of the dive. The study involved attaching a device to penguins that recorded the heart rate of the bird during a dive. The dataset contains multiple observations recorded from 9 penguins. The dataset has 125 observations and 4 variables. 

```{r eval = FALSE}
ggplot(penguins, aes(x = duration, y = heartrate, color = bird)) + 
  geom_point() + 
  facet_wrap( ~ bird)

ggplot(penguins, aes(x = depth, y = heartrate, color = bird)) + 
  geom_point() + 
  facet_wrap( ~ bird)
```

```{r eval = FALSE}
m <- lm(heartrate ~ duration + depth + bird, data = penguins)
summary(m)
resid_panel(m)
resid_xpanel(m, yvar = "response")

m2 <- lm(log(Dive.Heart.Rate) ~ Duration.min. + Depth.m., data = penguins)
summary(m2)
resid_panel(m2)
resid_xpanel(m2, yvar = "response")

m3 <- lm(Dive.Heart.Rate ~ Duration.min. + I((Duration.min.)^2) + Depth.m., data = penguins)
summary(m3)
resid_panel(m3)
resid_xpanel(m3, yvar = "response")

m4 <- lm(log(Dive.Heart.Rate) ~ Duration.min. + I((Duration.min.)^2) + Depth.m., data = penguins)
summary(m4)
resid_panel(m4)
resid_xpanel(m4, yvar = "response")

library(dplyr)

sub <- penguins %>%
  group_by(Bird.) %>%
  summarise_all(mean)

m5 <- lm(Dive.Heart.Rate ~ Duration.min. + Depth.m., data = sub)
summary(m5)
resid_panel(m5)
resid_xpanel(m5, yvar = "response")

```

## Board Game Example


